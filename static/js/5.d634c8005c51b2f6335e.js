webpackJsonp([5],{NmBw:function(t,e){},TGMz:function(t,e){},Tj2H:function(t,e){},Zdrq:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),n=a.n(i),s=a("exGp"),r=a.n(s),h=a("yt7g"),o={name:"barChart",props:{height:{type:String,default:"400px"},width:{type:String,default:"800px"},lineTextNum:{type:Number,default:5},title:{type:String,default:"柱状图"},showNum:{type:Number,default:10},series:{type:Array,default:function(){return[{name:"星期",data:[1,3,5,7,9]}]}},xAxis:{type:Array,default:function(){return["星期一","星期二","星期三","星期四","星期五"]}}},watch:{xAxis:function(t){var e=Math.floor(t.length/this.showNum);this.step=Math.ceil(100/e||1),this.step>100?this.canScroll=!1:this.canScroll=!0,this.showXAxis=t.slice(0,this.showNum)},series:function(t){var e=this,a=Math.floor(t[0].data.length/this.showNum);this.step=Math.ceil(100/a||1),this.step>100?this.canScroll=!1:this.canScroll=!0,this.showSeries=[],t.map(function(t){e.showSeries.push({name:t.name,data:t.data.slice(0,e.showNum)})})},value:function(t){var e=this;this.value=Math.min(100,t);var a=t/this.step*this.showNum;this.showXAxis=this.xAxis.slice(a,a+this.showNum),this.showSeries=[],this.series.map(function(t){e.showSeries.push({name:t.name,data:t.data.slice(a,a+e.showNum)})}),this.drawChart()},showXAxis:function(){this.drawChart()},showSeries:function(){this.drawChart()}},data:function(){return{id:"",value:0,step:10,showSeries:[],showXAxis:[],canScroll:!0}},methods:{initData:function(){var t=this,e=Math.floor(this.xAxis.length/this.showNum);this.step=Math.ceil(100/e||1),this.step>100?this.canScroll=!1:this.canScroll=!0,this.showXAxis=this.xAxis.slice(0,this.showNum),this.showSeries=[],this.series.map(function(e){t.showSeries.push({name:e.name,data:e.data.slice(0,t.showNum)})})},getId:function(){this.id="bar-chart-"+Object(h.b)()},sliderChange:function(t){},sliderInput:function(t){},drawChart:function(){var t=this,e=document.getElementById(this.id),a=this.$echarts.init(e),i=[],n=[];this.showSeries.map(function(t){i.push({name:t.name,data:t.data,type:"bar",label:{show:!0,rotate:0,position:"top",distance:5,verticalAlign:"middle",textStyle:{color:"black",fontSize:12}}}),n.push(t.name)});var s={title:{text:this.title},tooltip:{},legend:{data:n},xAxis:{data:this.showXAxis,axisLabel:{color:"#333",interval:0,formatter:function(e){for(var a="",i=0;i<e.length;i++)i>0&&i%t.lineTextNum==0&&(a+="\n"),a+=e[i];return a}}},yAxis:{},series:i,grid:{show:!1,left:"10%",right:"30px",borderColor:"#c45455",bottom:"25%"}};a.setOption(s)}},created:function(){this.getId()},mounted:function(){this.initData(),this.drawChart()}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{style:"width:"+t.width+";height: "+t.height+";margin: auto;margin-top: 0.8rem;",attrs:{id:t.id}}),t._v(" "),t.canScroll?a("el-slider",{staticClass:"el-slider",attrs:{step:t.step,"show-stops":""},on:{change:t.sliderChange,input:t.sliderInput},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1)},staticRenderFns:[]};var c=a("VU/8")(o,u,!1,function(t){a("xPjz")},"data-v-aa81d42c",null).exports,l={name:"lineChart",props:{title:{type:String,default:"折线图"},showNum:{type:Number,default:10},lineTextNum:{type:Number,default:5},series:{type:Array,default:function(){return[{name:"星期",data:[1,5,3,9,2]}]}},xAxis:{type:Array,default:function(){return["星期一","星期二","星期三","星期四","星期五"]}}},watch:{xAxis:function(t){var e=Math.floor(t.length/this.showNum);this.step=Math.ceil(100/e),this.step>100?this.canScroll=!1:this.canScroll=!0,this.showXAxis=t.slice(0,this.showNum)},series:function(t){var e=this,a=Math.floor(t[0].data.length/this.showNum);this.step=Math.ceil(100/a),this.step>100?this.canScroll=!1:this.canScroll=!0,this.showSeries=[],t.map(function(t){e.showSeries.push({name:t.name,data:t.data.slice(0,e.showNum)})})},value:function(t){var e=this;this.value=Math.min(100,t);var a=t/this.step*this.showNum;this.showXAxis=this.xAxis.slice(a,a+this.showNum),this.showSeries=[],this.series.map(function(t){e.showSeries.push({name:t.name,data:t.data.slice(a,a+e.showNum)})}),this.drawChart()},showXAxis:function(){this.drawChart()},showSeries:function(){this.drawChart()}},data:function(){return{id:"",value:0,step:10,showSeries:[],showXAxis:[],canScroll:!0}},methods:{initData:function(){var t=this,e=Math.floor(this.xAxis.length/this.showNum);this.step=Math.ceil(100/e),this.step>100?this.canScroll=!1:this.canScroll=!0,this.showXAxis=this.xAxis.slice(0,this.showNum),this.showSeries=[],this.series.map(function(e){t.showSeries.push({name:e.name,data:e.data.slice(0,t.showNum)})})},sliderChange:function(t){},sliderInput:function(t){},getId:function(){this.id="line-chart-"+Object(h.b)()},drawChart:function(){var t=document.getElementById(this.id),e=this.$echarts.init(t),a=[],i=[];this.showSeries.map(function(t){a.push({name:t.name,data:t.data,type:"line",label:{show:!0,position:"top",textStyle:{fontSize:10}}}),i.push(t.name)});var n={title:{text:this.title},xAxis:{type:"category",data:this.showXAxis},yAxis:{type:"value"},series:a};e.setOption(n)}},created:function(){this.getId()},mounted:function(){this.initData(),this.drawChart()}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{width:"600px",height:"400px",margin:"auto","margin-top":"10px"},attrs:{id:t.id}}),t._v(" "),t.canScroll?a("el-slider",{staticClass:"el-slider",attrs:{step:t.step,"show-stops":""},on:{change:t.sliderChange,input:t.sliderInput},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1)},staticRenderFns:[]};var d=a("VU/8")(l,m,!1,function(t){a("Tj2H")},"data-v-dddddd88",null).exports,p={name:"pieChart",props:{title:{type:String,default:"饼状图"},series:{type:Array,default:function(){return[{value:1,name:"星期一"},{value:2,name:"星期二"},{value:3,name:"星期三"}]}}},data:function(){return{id:""}},watch:{series:function(){this.drawChart()}},methods:{getId:function(){this.id="pie-chart-"+Object(h.b)()},drawChart:function(){var t=document.getElementById(this.id),e=this.$echarts.init(t),a={title:{text:this.title},series:[{type:"pie",radius:"55%",center:["50%","60%"],stillShowZeroSum:!1,label:{show:!0,formatter:"{b} : {c} ({d}%)"},data:this.series}]};e.setOption(a)}},created:function(){this.getId()},mounted:function(){this.drawChart()}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticStyle:{width:"600px",height:"400px",margin:"auto","margin-top":"10px"},attrs:{id:this.id}})])},staticRenderFns:[]};var x=a("VU/8")(p,f,!1,function(t){a("TGMz")},"data-v-797f17c7",null).exports,w={render:function(t){return t("div",{attrs:{id:"main"},style:{height:"450px"}})},props:{mapData:{type:Array,default:function(){return[]}},title:{type:String,default:"地图"}},watch:{mapData:function(){this.initData()}},data:function(){return{dataList:[{name:"南海诸岛"},{ename:"beijing",name:"北京"},{ename:"tianjin",name:"天津"},{ename:"shanghai",name:"上海"},{ename:"chongqing",name:"重庆"},{ename:"hebei",name:"河北"},{ename:"henan",name:"河南"},{ename:"yunnan",name:"云南"},{ename:"liaoning",name:"辽宁"},{ename:"heilongjiang",name:"黑龙江"},{ename:"hunan",name:"湖南"},{ename:"anhui",name:"安徽"},{ename:"shandong",name:"山东"},{ename:"xinjiang",name:"新疆"},{ename:"jiangsu",name:"江苏"},{ename:"zhejiang",name:"浙江"},{ename:"jiangxi",name:"江西"},{ename:"hubei",name:"湖北"},{ename:"guangxi",name:"广西"},{ename:"gansu",name:"甘肃"},{ename:"shanxi",name:"山西"},{ename:"neimenggu",name:"内蒙古"},{ename:"shanxi1",name:"陕西"},{ename:"jilin",name:"吉林"},{ename:"fujian",name:"福建"},{ename:"guizhou",name:"贵州"},{ename:"guangdong",name:"广东"},{ename:"qinghai",name:"青海"},{ename:"xizang",name:"西藏"},{ename:"sichuan",name:"四川"},{ename:"ningxia",name:"宁夏"},{ename:"hainan",name:"海南"},{name:"台湾"},{ename:"xianggang",name:"香港"},{ename:"aomen",name:"澳门"}],maxNum:0,minNum:0}},methods:{initData:function(){for(var t=this.dataList,e=this.mapData,a=this.maxNum,i=this.minNum,n=0;n<t.length;n++)t[n].value=0;for(var s=0;s<e.length;s++)for(var r=0;r<t.length;r++)if(-1!=e[s].name.indexOf(t[r].name)){t[r].value=e[s].value,a=Math.max(a,e[s].value),i=Math.min(i,e[s].value);break}this.maxNum=a,this.minNum=i,this.initEchart()},initEchart:function(){var t=echarts.init(document.getElementById("main")),e={title:{text:this.title},tooltip:{formatter:function(t,e){return t.seriesName+"<br />"+t.name+"："+t.value}},visualMap:{min:this.minNum,max:this.maxNum,left:"left",top:"bottom",text:["高","低"],inRange:{color:["#e0ffff","blue"]},show:!0},geo:{map:"china",roam:!1,zoom:1,label:{normal:{show:!0,fontSize:"10",color:"rgba(0,0,0,0.7)"}},itemStyle:{normal:{borderColor:"rgba(0, 0, 0, 0.2)"},emphasis:{areaColor:"skyblue",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:20,borderWidth:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}},series:[{name:"省份",type:"map",geoIndex:0,data:this.dataList}]};t.setOption(e),t.on("click",function(t){})}},mounted:function(){this.initData()}},v=a("VU/8")(w,null,!1,null,null,null).exports,g=a("2hMI"),y={name:"statistics",components:{barChart:c,lineChart:d,pieChart:x,china:v},data:function(){return{articleViews:[],articleViewsXAxis:[],typeViews:[],typeViewsXAxis:[],dateVisits:[],dateVisitsXAxis:[],cityVisit:[],provinceVisitData:[]}},methods:{initData:function(){this.doGetArticleView(),this.doGetTypeView(),this.doGetDateVisit(),this.doGetCityVisit()},filterProvince:function(){var t=this.cityVisit.filter(function(t){return"0000"==t.id.slice(2)});this.provinceVisitData=t},doGetArticleView:function(){var t=this;return r()(n.a.mark(function e(){var a,i,s,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.httpGet(g.k,{});case 2:if(1!=(a=e.sent).code){e.next=14;break}if(0!=(i=a.data).length){e.next=7;break}return e.abrupt("return");case 7:s=[{name:"文章",data:[]}],r=[],i.map(function(t){s[0].data.push(t.views),r.push(t.title)}),t.articleViews=[{name:s[0].name,data:s[0].data}],t.articleViewsXAxis=r,e.next=15;break;case 14:alert(a.msg);case 15:case"end":return e.stop()}},e,t)}))()},doGetTypeView:function(){var t=this;return r()(n.a.mark(function e(){var a,i,s,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.httpGet(g.u,{});case 2:if(1!=(a=e.sent).code){e.next=14;break}if(0!=(i=a.data).length){e.next=7;break}return e.abrupt("return");case 7:s=[{name:"分类",data:[]}],r=[],i.map(function(t){s[0].data.push(t.views),r.push(t.type_name)}),t.typeViews=[{name:s[0].name,data:s[0].data}],t.typeViewsXAxis=r,e.next=15;break;case 14:alert(a.msg);case 15:case"end":return e.stop()}},e,t)}))()},doGetDateVisit:function(){var t=this;return r()(n.a.mark(function e(){var a,i,s,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.httpGet(g.p,{});case 2:if(1!=(a=e.sent).code){e.next=14;break}if(0!=(i=a.data).length){e.next=7;break}return e.abrupt("return");case 7:s=[{name:"日期",data:[]}],r=[],i.map(function(t){s[0].data.push(t.visits),r.push(t.date)}),t.dateVisits=[{name:s[0].name,data:s[0].data}],t.dateVisitsXAxis=r,e.next=15;break;case 14:alert(a.msg);case 15:case"end":return e.stop()}},e,t)}))()},doGetCityVisit:function(){var t=this;return r()(n.a.mark(function e(){var a,i,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.httpGet(g.n,{});case 2:if(1!=(a=e.sent).code){e.next=13;break}if(0!=(i=a.data).length){e.next=7;break}return e.abrupt("return");case 7:s=[],i.map(function(t){s.push({name:t.cname,id:t.cid,value:t.visits})}),t.cityVisit=s,t.filterProvince(),e.next=14;break;case 13:alert(a.msg);case 14:case"end":return e.stop()}},e,t)}))()}},created:function(){this.initData()},mounted:function(){}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-box"},[a("bar-chart",{staticClass:"chart-item",attrs:{title:"文章阅读数",series:t.articleViews,xAxis:t.articleViewsXAxis,width:"800px",showNum:8,lineTextNum:6}}),t._v(" "),a("bar-chart",{staticClass:"chart-item",attrs:{title:"分类阅读量",series:t.typeViews,xAxis:t.typeViewsXAxis,width:"600px"}}),t._v(" "),a("line-chart",{staticClass:"chart-item",attrs:{title:"日访问量",series:t.dateVisits,xAxis:t.dateVisitsXAxis,showNum:10}}),t._v(" "),a("china",{staticClass:"chart-item",staticStyle:{width:"500px"},attrs:{title:"地区访问量",mapData:t.provinceVisitData}})],1)},staticRenderFns:[]};var S=a("VU/8")(y,b,!1,function(t){a("NmBw")},"data-v-04efaac3",null);e.default=S.exports},xPjz:function(t,e){}});